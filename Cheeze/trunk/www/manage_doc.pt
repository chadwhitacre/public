<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1" />
    <title>Zope</title>
    <style>@import url("/manage_page_style.css");
           @import url("big_cheeze_style");</style>
</head>

<body>

<h2 tal:define="manage_tabs_message options/manage_tabs_message | nothing"
    tal:replace="structure context/manage_tabs">Tabs</h2>
<div class="padding">

<h3>Steve,</h3>

<p>Ok man, here's what I did: I mercilessly refactored ZetaServerAdmin into a
Product, which is now called Cheeze and which is in the public repo. "Cheeze"
stands for "Cheap Zopes". :)</p>

<p>I decided to keep the vhosting and instance mgmt functionality a little more
distinct than we have been. Doing this means we can use Cheeze on our local
machines, cause we need cheap zopes for dev at least as much as for production.
I didn't remove any of your vhosting work, but it only shows up if we are on
unix (haven't actually fully tested this yet).</p>

<p>So here's how to set up a Cheeze server (dev or production):</p>

<ol>
  <li>Install Zope</li>

  <li>Create a folder structure for instances. Here is my recommendation:
    <ul>
       <li>zopes/</li>
       <li>zopes/instances</li>
       <li>zopes/skel</li>
    </ul>
  </li>

  <li>Use stock mkzopeinstance.py to create a "master" instance in zopes/</li>

  <li>Manually tweak master/etc/zope.conf, etc. to your liking (I am using port
  8000 for master, 80 for dev instances). Also svn co Cheeze into Products (no
  dependencies)</li>

  <li>Optionally, add a custom skel or two to skel/.</li>

  <li>In master/ZMI, add a Big Cheeze, and set the instance_root and skel_root to
     the directories you created above.</li>

  <li>Now try creating and deleting zopes. :) th (you will need to start them
  manually to confirm that they are indeed working)</li>

  <li>Also note "domains" and "documentation" tabs.</li>
</ol>

<h3>Notes:</h3>

<ul>
  <li>Create/delete is working :)</li>

  <li>"decommission" (take out of vhosting) will act as a protection against
  accidental deletion once it is in place.</li>

  <li>We may want to make delete impossible on production servers. (i.e., have
  two 'modes' for Big Cheeze -- production, dev)</li>

  <li>You can have multiple Big Cheezes pointing to different instance
  roots. Heck, you can even point them at same root :)</li>

  <li>No tests, and interface is out of sync</li>

  <li>zopes_list and skel_list are dumb! They just list the directories in
  instance_root and skel_root, regardless of whether those directories will
  actually function as zopes or skel.</li>

  <li>I've been using "skel" as the plural of "skel" prolly dumb but it's late ;)</li>

</ul>


<p>SEE ALSO: TODO.txt (on fs)</p>



</div>
</body>
</html>