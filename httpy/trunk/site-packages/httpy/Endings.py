"""This module contains Exception subclasses used to end httpy Transactions.

In httpy and dependent applications, the `raise' statement is overloaded
somewhat. It is used to trigger the end of a Transaction. A Transaction can end
in an error, of course, but it can also end successfully, or it can simply be
aborted. The payload that an Ending carries depends on which kind it is.

    failure
    success
    abortion

Endings include representations of all HTTP Status-Codes, as well as two
additional objects:

    Abort

"""


class Response(Exception):

    def __init__(self, code_=200, headers={}, body=''):
        Exception.__init__(self)
        self.code = code_
        self.headers = headers
        self.body = body

class Ending:
    pass

class Abort(Ending):
    pass

class BadRequest(Ending):
    code_ = 400
    msg = "Bad Request"

class HTTPVersionNotSupported(Ending):
    code_ = 505
    msg = "HTTP Version Not Supported"

class Forbidden(Ending):
    code_ = 403
    msg = "Forbidden"