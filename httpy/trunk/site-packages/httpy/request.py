from httpy._zope.interface import implements
from httpy._zope.interface.verify import verifyObject

from httpy.interfaces import IRequest


class Request:
    """Represent an HTTP Request.

    The point of this class is to only expose the API we want to httpy
    responders. Instances of this class are what are actually passed to
    Responder.respond. See interfaces.IRequest.

    """

    def __init__(self, request):
        """Takes an IRequest provider.
        """

        verifyObject(IRequest, request)

        for attr in ['raw', 'raw_line', 'raw_headers', 'raw_body',
                     'method', 'uri', 'path', 'message']:
            val = getattr(request, attr)
            setattr(self, attr, val)

    def __repr__(self):
        return "<%s>" % self.raw_line
    __str__ = __repr__
