"""This is the httpy library.
"""
import commands
import logging
import os


# Set up top-level logging.
# =========================
# We should do something smarter with this.

format = "%(asctime)s %(levelname)-8s %(filename)s:%(lineno)s %(message)s"
logging.basicConfig( level=logging.DEBUG
                   , format=format
                    )


# Metadata
# ========

__version__ = '0.9'
__author__ = 'Chad Whitacre <chad@zetaweb.com>'
__all__ = ( 'Request'
          , 'Response'
          , 'couple'
          , 'couplers'
          , 'mode'
          , 'responders'
          , 'utils'
           )
__revision__ = __rev__ = None # svn revision number, if applicable

(status, __revision__) = commands.getstatusoutput('svnversion -n .')
if status != 0:
    __revision__ = None
__rev__ = __revision__



# API
# ===

from utils import mode
from request import Request
from response import Response

HTTP_VERSION_STRING = "HTTP/1.1"
RESPONSE_HEADER = "httpy/%s" % __version__


# Tests
# =====

if 'PYTHONTESTING' in os.environ:
    import tests